# プロジェクト計画書

## Who's Up

### 空気を可視化する Discord Bot

---

## 1. 非機能要件

### 1.1 パフォーマンス
- 同時進行ポーリング数は少数（〜数件）を想定
- リアルタイム更新はリアクションイベントベース

### 1.2 永続化
- Phase 1 は **完全メモリ管理（DB 不使用）**
- Bot 再起動時は全ポール破棄

### 1.3 可用性
- 失敗してもユーザー体験に致命的影響が出ない設計
- 再試行・復旧を前提としない

---

## 2. 技術要件

### 2.1 技術スタック（Phase 1）

```
Node.js 20
TypeScript
Discord.js
In-memory state
```

---

## 3. 検証指標（Phase 1）

### 定性・行動ベース指標

- 管理者以外がコマンドを使用した
- 1週間以内に複数回使われた
- 同一ユーザーが 2 回以上 `/soon` を使用
- 投票後に VC が立った（主観可）
- 「地味に便利」という反応
- 他サーバーへの自発的共有

---

## 4. 将来拡張（参考）

- 投票履歴の保存
- 集まりやすい時間帯の可視化
- VC 開始検知による `/soon` 提案
- 静かなリマインド

---

## 5. 撤退条件

- 再利用が発生しない
- 管理者以外が使わない
- 自然な会話・行動に繋がらない

---

## 6. 実装ステータス

1. ~~プロジェクト初期化（Node.js + TypeScript + Discord.js）~~ ✅
2. ~~`/soon` コマンド実装~~ ✅
3. ~~`/later` コマンド実装（日付・時間・タイムゾーン選択UI）~~ ✅
4. ~~リアクション投票機能実装（排他制御含む）~~ ✅
5. ~~閾値通知機能実装~~ ✅
6. ~~自動クローズ機能実装~~ ✅
7. テストサーバーでの動作検証
